@{
    ViewData["Title"] = "Contact";
}

<!-------------stylesheet ------------------>
<link
    rel="stylesheet"
    type="text/css"
    href="~/css/contact.css"
    media="only screen and (min-width:901px)"
/>

    <!--------------------------HEADER-------------------------------->
<div class="mainFormContainer">
    <form asp_controller="Contact" asp_action="SendMessage" method="post" class="formContact" onsubmit="return checkFormData()">
    <div class="contact-head">
        <p class="contact-head-text">
        Write to <span>&nbsp; our Team</span>
        </p>
    </div>

    <div class="input-group shadow p-1 rounded">
        <span class="input-group-text">
        <i class="far fa-user"></i>
        </span>
        <input
        type="text"
        aria-label="First name"
        id="fname"
        name="fname"
        class="form-control"
        placeholder="First Name"
        value="@ViewBag.User.Fname"
        required
        />

        <input
        type="text"
        aria-label="Last name"
        id="lname"
        name="lname"
        class="form-control"
        placeholder="Last Name"
        value="@ViewBag.User.Lname"
        required
        />
    </div>


    <div class="input-group my-0 mb-0 py-3 shadow p-1 rounded">
        <span class="input-group-text">
        <i class="fas fa-envelope"></i>
        </span>

        <label class="input-group-text" for="inputGroupSelect01"
        >Message us for some
        </label>

        <!-- select options -->
        <select
        class="form-select"
        name="selectPurpose"
        id="selectPurpose"
        id="inputGroupSelect01"
        required
        >
        <option value="Suggestion">Suggestion</option>
        <option value="Complaint">Complaint</option>
        <option value="Appreciation" selected>Appreciation</option>
        <option value="Request">Request</option>
        </select>
    </div>

    <div class="form-group shadow p-2 rounded tcmain">
        <textarea
        name="desc"
        id="desc"
        class="form-control"
        placeholder="Type your valuable words here . . ."
                
        ></textarea>
    </div>

    <div class="form-group form-check py-2 my-2">
        <label id="errormsg"
        class="form-check-label my-0 text-center text-warning bg-dark px-2 center"
        for="exampleCheck1"
        >Share your thoughts with us!</label
        >
    </div>

    <!-- send message button -->
    <button 
        type="submit"
        class="loginbtn"
        id="hover-btn-contact"
    >
        Send | <i class="far fa-paper-plane"></i>
    </button>
    </form>
</div>

    <script>
      if ("{{user.designation}}" == "Editor") {
        document.getElementById("adminPanel").style.display = "block";
      }
    </script>

    <script type="text/javascript">

	function checkFormData() {
        console.log(3)
        if (document.getElementById("fname").value.length < 3) {
            console.log(23);
            document.getElementById("errormsg").innerText = "First Name should have at least 3 character!";
            return false;
        } else if (document.getElementById("lname").value.length < 3) {
            document.getElementById("errormsg").innerText = "Last Name should have at least 3 character!";
            return false;
        } else if (document.getElementById("desc").value.length < 5) {
            document.getElementById("errormsg").innerText = "Message is Empty! Have atleast 5 characters.";
            return false;
        }
        document.getElementById("errormsg").innerText = "Successfully Recieved your message!";
        return true;
		}

        
		let is_admin  = "@ViewBag.user.IsAdmin";
		if (is_admin === "Y") {
			document.getElementById("adminPanel").style.display = "block";
		}
		
	</script>
